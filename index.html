<!DOCTYPE html>
<html>
<head>
<style>

.ops
{
position:absolute;
width:10%;
height:5%;
background-color:#289ed9;
display:inline-block;
color:#ffffff;
border-radius:6px;
text-align:center;
	text-decoration:none;
	text-shadow:0px 1px 0px #082c59;
box-shadow:0px 0px 45px white;

}
#op1
{
top:35%;
left:40%;
}

#op2
{
top:50%;
left:25%;
}
#op3
{
top:50%;
left:55%;
}

p
{
color:red;


}
h1
{
	color:red;
}
#score
{
	position:absolute;
	color:white;
	left:80%;
	top:3%;
}
body
{
background:black;
max-width:100%;
max-height:100%;
overflow:hidden;


}
#a
{
position:absolute;
left:45%;
top:45%;
border: 2px solid white;
background:black;
width:10%;
height:10%;
display:none;


}


#t
{
position:absolute;
left:50%;
top:-2%;
background:white;
width:2%;
height:2%;
display:none;
}
#l
{
position:absolute;
left:-1%;
top:50%;
background:white;
height:2%;
width:2%;
display:none;
	
}#r
{
position:absolute;
left:100%;
top:50%;
background:white;
height:2%;
width:2%;
display:none;
}#b
{
position:absolute;
left:50%;
top:100%;
background:white;
width:2%;
height:2%;
display:none;
	
}


h1
{
color:red;
}


h2
{
color:red;
}


h3
{
color:red;
}
</style>
<script src="./myjq.js"></script>
<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<script>
document.addEventListener("deviceready", onDeviceReady, false);

    // device APIs are available
    //
    function onDeviceReady() {
    	navigator.notification.alert(
            'You are the winner!',  // message
            'Game Over',            // title
            'Done'                  // buttonName
        );
        // Empty
        
         var my_media = new Media("./sd.mp3",
        // success callback
        function () {
        },
        // error callback
        function (err) {
        }
    );
        
        
    }
    
    	
var speeda;
var speedt;
var speedl;
var speedb;
var speedr;
var scr;
var variationw;
var variationh;




var hits=0;
var la;
var ta;
var ha;
var wa;


var x;
var y;


var ll;
var tt;
var hh;
var ww;


var score=0;


var l;
var t;
var ht;
var wt;
var bug=0;


var flag=0;
var lef=0;
var tp=0;
var h=0;
var w=0;



$(document).ready(function(){
	
	
speeda=$("#a");
speedt=$("#t");
speedl=$("#l");
speedb=$("#b");
speedr=$("#r");
scr=$("#score");


	variationw=speedt.width();


	variationh=speedl.height();

$("h1").text("ready");
	
	$("#op1").click(function(){
		
	
$("h1").text("click");
		
		$(".ops").hide();
		
		speeda.fadeIn();
		
		var setdetect=setInterval(detect,1);
		var setattack=setInterval(attack,2200);
		
		
		
	});






var startX,offsetX,startY,offsetY,el = $(document);




el[0].addEventListener('touchstart', function(event) {
 
 event.preventDefault();
 
 //  offsetX = ($(window).width()-el.outerWidth(true))/2;
  startX = event.targetTouches[0].pageX;
 
  // offsetY = ($(window).height()-el.outerHeight(true))/2;
  startY = event.targetTouches[0].pageY;
 

 lef=parseInt(speeda.css("left"),10);
 tp=parseInt(speeda.css("top"),10);
 h=speeda.height();
 w=speeda.width();


 var x=startX;
 var y=startY;


if(x>=lef&&x<=(lef+w)&&y<=(tp+h+30)&&y>=(tp+h-30))
{
    	flag=1;
    	navigator.notification.vibrate(13);

    	
}
else if(x>=lef&&x<=(lef+w)&&y<=(tp+30)&&y>=(tp-30))
 {
 	flag=2;
	navigator.notification.vibrate(13);
 	
}
else if(y>=tp&&y<=(tp+h)&&x<=(lef+w+30)&&x>=(lef+w-30))
{
	flag=3;
	navigator.notification.vibrate(13);

}
else if(y>=tp&&y<=(tp+h)&&x<=(lef+30)&&x>=(lef-30))
{
	flag=4;
	navigator.notification.vibrate(13);
	
}

    	navigator.notification.vibrate(10);

my_media.play();


},false);




el[0].addEventListener("touchmove", function(event) {


 
 event.preventDefault();
 
  var diffX = (event.changedTouches[0].pageX);
 
  var diffY = (event.changedTouches[0].pageY);
 
 var x=diffX;
 var y=diffY;








if(flag==1)
{


    if(y<tp)
{


    speeda.animate({
                       top:y
                       ,height:tp-y


                   },1);






}


else
{
    speeda.animate({
                       top:tp
                       ,height:(y)-tp


                   },1);
}
}
else if(flag==2)
{


    if(y<tp+h)
{


    speeda.animate({
                       top:y
                       ,height:h+tp-y


                   },1);






}


else
{
    speeda.animate({
                       top:tp+h
                       ,height:(y)-(tp+h)


                   },1);
}


}




else if(flag==3)
{


    if(x<lef)
{


    speeda.animate({
                       left:x
                       ,width:lef-x


                   },1);






}


else
{
    speeda.animate({
                       left:lef
                       ,width:(x)-lef


                   },1);
}
}




else if(flag==4)
{




    if(x<lef+w)
{


    speeda.animate({
                       left:x
                       ,width:w+lef-x


                   },1);






}


else
{
    speeda.animate({
                       left:lef+w
                       ,width:(x)-(lef+w)


                   },1);
}


}










},false);


el[0].addEventListener("touchend", function(e) {
 e.preventDefault();
flag=0;


},false);


});




function detect(){




 ll=parseInt(speeda.css("left"),10);
 tt=parseInt(speeda.css("top"),10);
 hh=speeda.height();
 ww=speeda.width();






if(bug==1)
	{


 la=parseInt(speedt.css("left"),10);
 ta=parseInt(speedt.css("top"),10);
 ha=speedt.height();
 wa=speedt.width();




		if(((ta+ha)>=tt&&(ta+ha)<=(tt+hh))&&((la<=(ll+ww))&&((la+wa)>=ll)))
		{
				hits++;
				scr.text(hits);
				


		}






	}






else if(bug==2)
	{


 la=parseInt(speedl.css("left"),10);
 ta=parseInt(speedl.css("top"),10);
 ha=speedl.height();
 wa=speedl.width();




		if(((la+wa)>=ll&&(la+wa)<=(ll+ww))&&((ta<=(tt+hh))&&((ta+ha)>=tt)))
		{
				hits++;
				scr.text(hits);









		}






	}


else if(bug==3)
	{


 la=parseInt(speedb.css("left"),10);
 ta=parseInt(speedb.css("top"),10);
 ha=speedb.height();
 wa=speedb.width();




		if(((ta)>=tt&&(ta)<=(tt+hh))&&((la<=(ll+ww))&&((la+wa)>=ll)))
		{
				hits++;
				scr.text(hits);









		}






	}


else if(bug==4)
	{


 la=parseInt(speedr.css("left"),10);
 ta=parseInt(speedr.css("top"),10);
 ha=speedr.height();
 wa=speedr.width();




		if(((la)>=ll&&(la)<=(ll+ww))&&((ta<=(tt+hh))&&((ta+ha)>=tt)))
		{
				hits++;
				scr.text(hits);









		}






	}






}








function attack(){




 l=parseInt(speeda.css("left"),10);
 t=parseInt(speeda.css("top"),10);
 ht=speeda.height();
 wt=speeda.width();


 


  y = Math.floor((Math.random() * 10)+1);


  x = Math.floor((Math.random() * 10));


if(y>5)
y=y-5;


var k1=l+((wt*(y-1))/4)-(variationw/2);
var k2=t+((ht*(y-1))/4)-(variationh/2);



if(x==0||x==4||x==8)
{
	bug=1;
	speedt.css("left",k1);
speedt.show();
speedt.animate({
top:'100%'
},2000,function(){


speedt.hide();
speedt.css("top","0%")


});


}


else if(x==1||x==5||x==9)
{
	bug=2;
	speedl.css("top",k2);
speedl.show();
speedl.animate({
left:'100%'
},2000,function(){


speedl.hide();


speedl.css("left","0%")


});


}
else if(x==2||x==6)
{
	bug=3;
	speedb.css("left",k1);
speedb.show();
speedb.animate({
top:'-5%'
},2000,function(){


speedb.hide();


speedb.css("top","100%")


});




}


else if(x==3||x==7)
{
	bug=4;
	speedr.css("top",k2);
speedr.show();
speedr.animate({
left:'-5%'
},2000,function(){


speedr.hide();


speedr.css("left","100%")


});




}
score++;



}





</script>
</head>
<body>
<audio id="Sound" src="file:///sd.mp3" type="audio/mpeg" ></audio>
<h1></h1>

<h2 id="score"></h2>

<div id="a"></div>


<div id="t"></div>


<div id="l"></div>


<div id="r"></div>


<div id="b"></div>



<button id="op1" class="ops">play</button>

<button id="op2" class="ops">rate</button>

<button id="op3" class="ops">how to play</button>



</body>
</html>
