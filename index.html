<!DOCTYPE html>
<html>
<head>
<style>
p
{
color:red;

}
h1
{
	color:red;
}
#score
{
	position:absolute;
	color:white;
	left:80%;
	top:3%;
}
body
{
background:black;
max-width:100%;
max-height:100%;
overflow:hidden;

}
#a
{
position:absolute;
left:45%;
top:45%;
background:yellow;
width:10%;
height:10%;

}

#t
{
position:absolute;
left:50%;
top:-2%;
background:white;
width:2%;
height:2%;
}
#l
{
position:absolute;
left:-1%;
top:50%;
background:white;
height:2%;
width:2%;
}#r
{
position:absolute;
left:100%;
top:50%;
background:white;
height:2%;
width:2%;
}#b
{
position:absolute;
left:50%;
top:100%;
background:white;
width:2%;
height:2%;
}

h1
{
color:red;
}

h2
{
color:red;
}

h3
{
color:red;
}
</style>
<script src="./myjq.js"></script>

<script>
$(document).ready(function(){


	var variationw=$("#t").width();

	var variationh=$("#l").height();


	var audio={};
	 audio["walk"] = new Audio();
        audio["walk"].src = "./sd.mp3"


var hits=0;
var la;
var ta;
var ha;
var wa;

var x;
var y;

var ll;
var tt;
var hh;
var ww;

var score=0;

var l;
var t;
var ht;
var wt;
var bug=0;
setInterval(function(){


 ll=parseInt($("#a").css("left"),10);
 tt=parseInt($("#a").css("top"),10);
 hh=$("#a").height();
 ww=$("#a").width();



if(bug==1)
	{
		
 la=parseInt($("#t").css("left"),10);
 ta=parseInt($("#t").css("top"),10);
 ha=$("#t").height();
 wa=$("#t").width();


		if(((ta+ha)>=tt&&(ta+ha)<=(tt+hh))&&((la<=(ll+ww))&&((la+wa)>=ll)))
		{
				hits++;
				$("h3").text(hits);
            audio["walk"].play();

		}



	}



else if(bug==2)
	{
		
 la=parseInt($("#l").css("left"),10);
 ta=parseInt($("#l").css("top"),10);
 ha=$("#l").height();
 wa=$("#l").width();


		if(((la+wa)>=ll&&(la+wa)<=(ll+ww))&&((ta<=(tt+hh))&&((ta+ha)>=tt)))
		{
				hits++;
				$("h3").text(hits);
				
				            audio["walk"].play();


				
		}



	}

else if(bug==3)
	{
		
 la=parseInt($("#b").css("left"),10);
 ta=parseInt($("#b").css("top"),10);
 ha=$("#b").height();
 wa=$("#b").width();


		if(((ta)>=tt&&(ta)<=(tt+hh))&&((la<=(ll+ww))&&((la+wa)>=ll)))
		{
				hits++;
				$("h3").text(hits);
				
				            audio["walk"].play();


				
		}



	}

else if(bug==4)
	{
		
 la=parseInt($("#r").css("left"),10);
 ta=parseInt($("#r").css("top"),10);
 ha=$("#r").height();
 wa=$("#r").width();


		if(((la)>=ll&&(la)<=(ll+ww))&&((ta<=(tt+hh))&&((ta+ha)>=tt)))
		{
				hits++;
				$("h3").text(hits);
				
				            audio["walk"].play();


				
		}



	}



},1);

setInterval(function(){


 l=parseInt($("#a").css("left"),10);
 t=parseInt($("#a").css("top"),10);
 ht=$("#a").height();
 wt=$("#a").width();

 

  y = Math.floor((Math.random() * 10)+1);

  x = Math.floor((Math.random() * 10));

if(y>5)
y=y-5;

var k1=l+((wt*(y-1))/4)-(variationw/2);
var k2=t+((ht*(y-1))/4)-(variationh/2);
$("h1").text(x+"   "+y);

if(x==0||x==4||x==8)
{
	bug=1;
	$("#t").css("left",k1);
$("#t").show();
$("#t").animate({
top:'100%'
},2000,function(){

$("#t").hide();
$("#t").css("top","0%")

});

}

else if(x==1||x==5||x==9)
{
	bug=2;
	$("#l").css("top",k2);
$("#l").show();
$("#l").animate({
left:'100%'
},2000,function(){

$("#l").hide();

$("#l").css("left","0%")

});

}
else if(x==2||x==6)
{
	bug=3;
	$("#b").css("left",k1);
$("#b").show();
$("#b").animate({
top:'-5%'
},2000,function(){

$("#b").hide();

$("#b").css("top","100%")

});


}

else if(x==3||x==7)
{
	bug=4;
	$("#r").css("top",k2);
$("#r").show();
$("#r").animate({
left:'-5%'
},2000,function(){

$("#r").hide();

$("#r").css("left","100%")

});


}
score++;
$("#score").text(score);

},2200);



var flag=0;
var lef=0;
var tp=0;
var h=0;
var w=0;


var startX,offsetX,startY,offsetY,el = $(document);


el[0].addEventListener('touchstart', function(event) {
 
 event.preventDefault();
 
 //  offsetX = ($(window).width()-el.outerWidth(true))/2;
  startX = event.targetTouches[0].pageX;
 
  // offsetY = ($(window).height()-el.outerHeight(true))/2;
  startY = event.targetTouches[0].pageY;
 
 $("h1").text(startX+"/"+startY);
 
 lef=parseInt($("#a").css("left"),10);
 tp=parseInt($("#a").css("top"),10);
 h=$("#a").height();
 w=$("#a").width();

 $("#a").text(lef);
 var x=startX;
 var y=startY;

if(x>=lef&&x<=(lef+w)&&y<=(tp+h+30)&&y>=(tp+h-30))
    flag=1;
else if(x>=lef&&x<=(lef+w)&&y<=(tp+30)&&y>=(tp-30))
    flag=2;
else if(y>=tp&&y<=(tp+h)&&x<=(lef+w+30)&&x>=(lef+w-30))
    flag=3;
else if(y>=tp&&y<=(tp+h)&&x<=(lef+30)&&x>=(lef-30))
    flag=4;



},false);


el[0].addEventListener("touchmove", function(event) {

 
 event.preventDefault();
 
  var diffX = (event.changedTouches[0].pageX);
 
  var diffY = (event.changedTouches[0].pageY);
 
 var x=diffX;
 var y=diffY;



 $("span").text(x + ", " + y+",,,"+$("#a").css("left")+","+$("#a").css("top")+lef+"flag="+flag);


if(flag==1)
{

    if(y<tp)
{

    $("#a").animate({
                       top:y
                       ,height:tp-y

                   },1);



}

else
{
    $("#a").animate({
                       top:tp
                       ,height:(y)-tp

                   },1);
}
}
else if(flag==2)
{

$("#a").text("hello");

    if(y<tp+h)
{

    $("#a").animate({
                       top:y
                       ,height:h+tp-y

                   },1);



}

else
{
    $("#a").animate({
                       top:tp+h
                       ,height:(y)-(tp+h)

                   },1);
}

}


else if(flag==3)
{

    if(x<lef)
{

    $("#a").animate({
                       left:x
                       ,width:lef-x

                   },1);



}

else
{
    $("#a").animate({
                       left:lef
                       ,width:(x)-lef

                   },1);
}
}


else if(flag==4)
{

$("#a").text("hello");

    if(x<lef+w)
{

    $("#a").animate({
                       left:x
                       ,width:w+lef-x

                   },1);



}

else
{
    $("#a").animate({
                       left:lef+w
                       ,width:(x)-(lef+w)

                   },1);
}

}





},false);

el[0].addEventListener("touchend", function(e) {
 e.preventDefault();
flag=0;

},false);

});
</script>
</head>
<body>
<h1> </h1>
<h2 id="score"></h2>
<p><span> </span></p>
<div id="a"></div>

<div id="t"></div>

<div id="l"></div>

<div id="r"></div>

<div id="b"></div>

</body>
</html>
